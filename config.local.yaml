# Local Testing Configuration (No Databricks Required)
databricks:
  host: "local"
  token: "local"
  workspace_path: "/local/gnu-mlops"

# MLflow Configuration - Local SQLite
mlflow:
  gnu_mlflow_config: "gnu-mlops-local-experiments"
  model_name: "gnu-mlops-model-local"
  tracking_uri: "sqlite:///mlflow.db"  # Local SQLite database

# Model Configuration
model:
  algorithm: "random_forest"
  hyperparameters:
    n_estimators: 100
    max_depth: 10
    random_state: 42
  
# Training Configuration
training:
  test_size: 0.2
  validation_size: 0.1
  random_state: 42
  cv_folds: 5

# Data Configuration
data:
  source: "local"
  table_name: "training_data"
  features:
    - feature1
    - feature2
    - feature3
  target: "target_column"
  
# Deployment Configuration
deployment:
  model_stage: "GNU_Production"
  endpoint_name: "gnu-mlops-endpoint-local"
  compute_config:
    min_workers: 1
    max_workers: 4
    instance_type: "local"

# Monitoring Configuration
monitoring:
  enable_drift_detection: false
  log_predictions: true
  alert_email: "nbetini@gmail.com"

# Retraining Configuration
retraining:
  enabled: true  # Enable automatic retraining
  interval_days: 30  # Retrain every 30 days
  auto_deploy: true  # Automatically deploy if new model is better
  min_improvement: 0.0  # Minimum accuracy improvement to deploy (0.0 = any improvement)
  notification_email: "nbetini@gmail.com"  # Email for retraining notifications

# Batch Inference Configuration
batch_inference:
  enabled: true  # Enable daily batch inference
  input_path: "data/batch_input/"  # Path to input data files (file or directory)
  output_path: "data/batch_output/"  # Path to save prediction results
  archive_path: "data/batch_archive/"  # Path to archive processed input files
  model_stage: "GNU_Production"  # Model stage to use (Staging or GNU_Production)
  batch_size: 10000  # Process large files in batches of this size
  archive_input: true  # Archive input files after processing
  notification_email: "nbetini@gmail.com"  # Email for batch inference notifications

